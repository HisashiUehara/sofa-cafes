<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ä¸Šé‡ï¼‹æ—¥æš®é‡Œ ã‹ã‚ã„ã„ã‚½ãƒ•ã‚¡ã‚«ãƒ•ã‚§ Pick</title>
  <meta name="description" content="ä¸Šé‡ãƒ»æ—¥æš®é‡Œã‚¨ãƒªã‚¢ã®ã€æ¨ªä¸¦ã³ã§åº§ã‚Œã‚‹ã‚½ãƒ•ã‚¡å¸­ãŒé­…åŠ›ã®ã‚«ãƒ•ã‚§ã‚’å³é¸ã—ã¦ã”ç´¹ä»‹ã€‚">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>â˜•</text></svg>">
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Soft shadow & rounded look */
    .card { box-shadow: 0 10px 20px -10px rgba(244, 63, 94, 0.2); }
  </style>
</head>
<body class="min-h-screen bg-rose-50 text-slate-800">
  <header class="sticky top-0 z-10 backdrop-blur bg-rose-50/80 border-b border-rose-100">
    <div class="mx-auto max-w-6xl px-4 py-4 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between">
      <h1 class="text-2xl sm:text-3xl font-extrabold tracking-tight">
        ä¸Šé‡ï¼‹æ—¥æš®é‡Œ ã‹ã‚ã„ã„ã‚½ãƒ•ã‚¡ã‚«ãƒ•ã‚§ <span class="text-rose-500">Pick</span>
      </h1>
      <div class="flex flex-wrap gap-2 items-center">
        <select id="area" class="px-3 py-2 rounded-xl bg-white shadow border border-rose-200 focus:outline-none">
          <option value="All">å…¨ã‚¨ãƒªã‚¢</option>
          <option value="Ueno">ä¸Šé‡</option>
          <option value="Nippori">æ—¥æš®é‡Œ</option>
        </select>
        <label class="flex items-center gap-2 px-3 py-2 rounded-xl bg-white shadow border border-rose-200 cursor-pointer select-none">
          <input type="checkbox" id="sideBySideOnly" />
          æ¨ªä¸¦ã³ã‚½ãƒ•ã‚¡ã ã‘è¡¨ç¤º
        </label>
        <select id="smoking" class="px-3 py-2 rounded-xl bg-white shadow border border-rose-200 focus:outline-none">
          <option value="any">å–«ç…™/ç¦ç…™ã™ã¹ã¦</option>
          <option value="ç¦ç…™">ç¦ç…™ã®ã¿</option>
          <option value="å–«ç…™">å–«ç…™å¯ã‚’å«ã‚€</option>
        </select>
        <button id="copyBtn" class="px-4 py-2 rounded-xl font-semibold shadow bg-white border border-rose-200 hover:bg-rose-100" title="ã„ã¾ã®çµã‚Šè¾¼ã¿çŠ¶æ…‹ã®å…±æœ‰ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼">å…±æœ‰ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼</button>
      </div>
    </div>
  </header>

  <main class="mx-auto max-w-6xl px-4 py-6 grid gap-6 sm:grid-cols-2 lg:grid-cols-3" id="grid"></main>

  <footer class="mx-auto max-w-6xl px-4 pb-10 text-center text-xs text-slate-500">
    â€» æ²è¼‰æƒ…å ±ã¯å¤‰æ›´ã®å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚æœ€æ–°ã®å–¶æ¥­æ™‚é–“ãƒ»å¸­ç¨®ã¯å„åº—èˆ—å…¬å¼æƒ…å ±ã‚’ã”ç¢ºèªãã ã•ã„ã€‚
  </footer>

  <script>
    const CAFES = [
      { id:"chanoma-ueno", name:"yusoshi chanoâ€‘ma ä¸Šé‡", area:"Ueno", walk:"å¾’æ­©3åˆ†ï¼ˆä¸Šé‡ãƒãƒ«ã‚¤9Fï¼‰", vibe:"å’Œãƒ¢ãƒ€ãƒ³ / ã‚†ã£ãŸã‚Š / å°ä¸ŠãŒã‚Šãƒ™ãƒƒãƒ‰ã‚½ãƒ•ã‚¡", highlight:"æ¨ªä¸¦ã³ã§â€œã”ã‚ã”ã‚â€ã§ãã‚‹å°ä¸ŠãŒã‚Šã‚½ãƒ•ã‚¡", sofaSideBySide:true, smoking:"å®Œå…¨ç¦ç…™", price:"ãƒ©ãƒ³ãƒÂ¥1,200ã€œÂ¥1,800", hours:"åœŸ 11:00â€“23:00ï¼ˆL.O.22:00ï¼‰", links:{ map:"https://maps.app.goo.gl/yxV3mJ4eJqF4iJ5f8", site:"https://www.dd-holdings.jp/shops/chanoma/ueno", review:"https://tabelog.com/tokyo/A1311/A131101/13117492/" }, img:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?q=80&w=1280&auto=format&fit=crop", notes:"åœŸæ—¥ãƒ©ãƒ³ãƒã¯åŸºæœ¬å…ˆç€é †ã€‚äººæ°—ãªã®ã§æ—©ã‚æ¥åº—ãŒãŠã™ã™ã‚ã€‚" },
      { id:"kojo-ueno", name:"å–«èŒ¶ å¤åŸï¼ˆKojoï¼‰", area:"Ueno", walk:"å¾’æ­©2åˆ†", vibe:"æ˜­å’Œãƒ¬ãƒˆãƒ­ / ã‚·ãƒ£ãƒ³ãƒ‡ãƒªã‚¢ / é™ã‹ã‚", highlight:"2äººç”¨â€œãƒ­ãƒãƒ³ã‚¹ã‚·ãƒ¼ãƒˆâ€ï¼ˆæ¨ªä¸¦ã³ã‚½ãƒ•ã‚¡ï¼‰", sofaSideBySide:true, smoking:"å–«ç…™å¯", price:"ã‚³ãƒ¼ãƒ’ãƒ¼Â¥800å‰å¾Œ", hours:"åœŸ 9:00â€“20:00ï¼ˆæ—¥ç¥ä¼‘ï¼‰", links:{ map:"https://maps.app.goo.gl/tc8yW62K5t4s6i9A9", site:"", review:"https://tabelog.com/tokyo/A1311/A131101/13028658/" }, img:"https://images.unsplash.com/photo-1517701604599-bb29b565090c?q=80&w=1280&auto=format&fit=crop", notes:"é›°å›²æ°—ã¯æœ€é«˜ã€‚ãŸã ã—ç…™è‰ã®é¦™ã‚ŠãŒè‹¦æ‰‹ãªã‚‰åˆ¥å€™è£œã‚’ã€‚ç¾é‡‘æ¨å¥¨ã€‚" },
      { id:"bonnard-ueno", name:"çˆç²å‡¦ãƒœãƒŠãƒ¼ãƒ«", area:"Ueno", walk:"å¾’æ­©5ã€œ6åˆ†ï¼ˆå¾¡å¾’ç”ºå¯„ã‚Šï¼‰", vibe:"ç´”å–«èŒ¶ / ãƒ¬ãƒˆãƒ­ / ã»ã©ã‚ˆãè³‘ã‚„ã‹", highlight:"å£æ²¿ã„ã®ãƒ™ãƒ³ãƒã‚½ãƒ•ã‚¡ã§æ¨ªä¸¦ã³OK", sofaSideBySide:true, smoking:"å®Œå…¨ç¦ç…™", price:"ã‚³ãƒ¼ãƒ’ãƒ¼Â¥600å‰å¾Œ", hours:"åœŸ 11:00â€“21:30", links:{ map:"https://maps.app.goo.gl/kFJ5c8D7r8bF8q4J8", site:"http://bonnard.ikidane.com/", review:"https://tabelog.com/tokyo/A1311/A131101/13261583/" }, img:"https://images.unsplash.com/photo-1533777857889-4be7c70b33f7?q=80&w=1280&auto=format&fit=crop", notes:"ãƒ¬ãƒˆãƒ­æ°—åˆ†ã§ã—ã£ã½ã‚Šã€‚è±†æŒ½ããŸã¦ã€‚" },
      { id:"blueleaf-ueno", name:"Blue Leaf CafÃ© ä¸Šé‡HSãƒ“ãƒ«", area:"Ueno", walk:"å¾’æ­©5åˆ†", vibe:"æ˜ã‚‹ã„ãƒ¢ãƒ€ãƒ³ / åºƒã€… / Wiâ€‘Fiãƒ»é›»æº", highlight:"ã‚½ãƒ•ã‚¡å¸­è¤‡æ•°ã€‚ç‰‡å´ã«ä¸¦ã‚“ã§åº§ã‚Šã‚„ã™ã„", sofaSideBySide:false, smoking:"å®Œå…¨ç¦ç…™", price:"ãƒ‰ãƒªãƒ³ã‚¯ã€œÂ¥800 / è»½é£Ÿã‚ã‚Š", hours:"åœŸ 10:00â€“19:00", links:{ map:"https://maps.app.goo.gl/2b8u7Yf2W2Q3C4uN7", site:"https://blueleafcafe.jp/", review:"https://tabelog.com/tokyo/A1311/A131101/13258759/" }, img:"https://images.unsplash.com/photo-1511920170033-f8396924c348?q=80&w=1280&auto=format&fit=crop", notes:"æ¨ªä¸¦ã³ä»•æ§˜ã§ã¯ãªã„ãŒã‚½ãƒ•ã‚¡ç‰‡å´ã«ä¸¦ã¶ã‚«ãƒƒãƒ—ãƒ«å¤šã‚ã€‚" },
      { id:"wired-ueno", name:"WIRED CAFE ã‚¢ãƒˆãƒ¬ä¸Šé‡", area:"Ueno", walk:"é§…ç›´çµï¼ˆå¾’æ­©1åˆ†ä»¥å†…ï¼‰", vibe:"ã‚¹ã‚¿ã‚¤ãƒªãƒƒã‚·ãƒ¥ / ã«ãã‚„ã‹ / ä¾¿åˆ©", highlight:"ãƒœãƒƒã‚¯ã‚¹ã‚½ãƒ•ã‚¡ã§åŒå¸­æ¨ªä¸¦ã³ã‚‚å¯", sofaSideBySide:false, smoking:"å®Œå…¨ç¦ç…™", price:"Â¥1,000ã€œÂ¥1,500", hours:"åœŸ 8:00â€“23:00", links:{ map:"https://maps.app.goo.gl/HmH8Z1eUjD3oY7WQ6", site:"https://www.atre.co.jp/store/ueno/shop/detail/2362", review:"https://tabelog.com/tokyo/A1311/A131101/13203642/" }, img:"https://images.unsplash.com/photo-1494346480775-936a9f0d0872?q=80&w=1280&auto=format&fit=crop", notes:"åœŸæ—¥ãƒ©ãƒ³ãƒã¯äºˆç´„ä¸å¯ã€‚å›è»¢æ—©ã‚ã€‚" },
      { id:"newtokyo-nippori", name:"è«‡è©±å®¤ ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ¼ã‚­ãƒ§ãƒ¼ï¼ˆæ—¥æš®é‡Œï¼‰", area:"Nippori", walk:"é§…ç›´çµï¼ˆå¾’æ­©0åˆ†ï¼‰", vibe:"åºƒã€… / ãƒ¬ãƒˆãƒ­è±ªè¯ / BGMå¿ƒåœ°ã‚ˆã„", highlight:"ã€å…¨å¸­ã‚½ãƒ•ã‚¡ã€‘æ¨ªä¸¦ã³ã‚‚ä½™è£•ã®ã‚†ã£ãŸã‚Šæ„Ÿ", sofaSideBySide:true, smoking:"åˆ†ç…™", price:"Â¥800ã€œÂ¥1,500", hours:"åœŸ 10:00â€“20:00 ç›®å®‰", links:{ map:"https://maps.app.goo.gl/9t1Jm7n2pCH3z7dE8", site:"", review:"https://tabelog.com/tokyo/A1311/A131105/13148532/" }, img:"https://images.unsplash.com/photo-1495774856032-8b90bbb32b3e?q=80&w=1280&auto=format&fit=crop", notes:"â€œãã£ã¤ã„ã¦åº§ã‚‹â€ãŒå¶ã†ä»£è¡¨æ ¼ã€‚" },
      { id:"hagi-nippori", name:"HAGI CAFE", area:"Nippori", walk:"å¾’æ­©5åˆ†ï¼ˆè°·ä¸­ã‚¨ãƒªã‚¢ï¼‰", vibe:"å¤æ°‘å®¶ãƒªãƒãƒ™ / æœ¨ã®æ¸©ã‚‚ã‚Š / ã—ã£ã¨ã‚Š", highlight:"2éšã«ã‚½ãƒ•ã‚¡å¸­ã€‚å¯„ã‚Šæ·»ã£ã¦ã®ã‚“ã³ã‚Š", sofaSideBySide:true, smoking:"å®Œå…¨ç¦ç…™", price:"Â¥900ã€œÂ¥1,500", hours:"åœŸ 10:00â€“20:00 ç›®å®‰", links:{ map:"https://maps.app.goo.gl/4q7mXQLaVncn2m4F8", site:"https://www.hagiso.jp/", review:"https://tabelog.com/tokyo/A1311/A131105/13153860/" }, img:"https://images.unsplash.com/photo-1470337458703-46ad1756a187?q=80&w=1280&auto=format&fit=crop", notes:"ãƒ•ãƒ¼ãƒ‰ã‚‚å€‹æ€§çš„ã€‚æ··é›‘å‰ã®æ—©ã‚æ¥åº—â—" },
      { id:"cafe-c-nippori", name:"Cafe Cï¼ˆã‚«ãƒ•ã‚§ Cï¼‰", area:"Nippori", walk:"å¾’æ­©4ã€œ5åˆ†", vibe:"ã‹ã‚ã„ã„ / ãƒ•ã‚§ãƒŸãƒ‹ãƒ³ / ã‚¹ã‚¤ãƒ¼ãƒ„", highlight:"ã‚½ãƒ•ã‚¡å¸­ã‚ã‚Šã€‚ãƒ‘ãƒ•ã‚§äººæ°—", sofaSideBySide:true, smoking:"å®Œå…¨ç¦ç…™", price:"Â¥1,000ã€œÂ¥1,800", hours:"åœŸ 11:00â€“20:00 ç›®å®‰", links:{ map:"https://maps.app.goo.gl/Jx8o3NqgJqL5QKfG8", site:"", review:"https://tabelog.com/tokyo/A1311/A131105/13276161/" }, img:"https://images.unsplash.com/photo-1504754524776-8f4f37790ca0?q=80&w=1280&auto=format&fit=crop", notes:"å°ã¢ã‚“ã¾ã‚Šã€‚ç”˜å…šãƒ‡ãƒ¼ãƒˆã«â—" },
      { id:"higurashi-nippori", name:"ã²ãã‚‰ã—ãƒ™ãƒ¼ã‚«ãƒªãƒ¼", area:"Nippori", walk:"å¾’æ­©5åˆ†", vibe:"ãƒ‘ãƒ³å±‹ä½µè¨­ / ã»ã®ã¼ã® / ãƒ†ãƒ©ã‚¹ã‚‚", highlight:"2éšã«ã‚½ãƒ•ã‚¡å¸­ã‚ã‚Š", sofaSideBySide:false, smoking:"å®Œå…¨ç¦ç…™", price:"Â¥800ã€œÂ¥1,500", hours:"åœŸ 8:00â€“18:00 ç›®å®‰", links:{ map:"https://maps.app.goo.gl/3Kk3x1G7wqk9x2oK6", site:"https://higurashi-bakery.com/", review:"https://tabelog.com/tokyo/A1311/A131105/13202135/" }, img:"https://images.unsplash.com/photo-1495462911434-be47104d70fa?q=80&w=1280&auto=format&fit=crop", notes:"ã¾ã£ãŸã‚Šæœã€œæ˜¼ã«ã€‚ãƒ‘ãƒ³ãŒä¸»å½¹ã€‚" },
      { id:"darjeeling-nippori", name:"ãƒ€ãƒ¼ã‚¸ãƒªãƒ³ æ—¥æš®é‡Œåº—", area:"Nippori", walk:"å¾’æ­©2åˆ†", vibe:"ã‚¨ã‚­ã‚¾ãƒãƒƒã‚¯ / ã¡ã‚‡ã„è´…æ²¢ / ãƒ†ã‚£ãƒ¼", highlight:"ãµã‹ãµã‹ã‚½ãƒ•ã‚¡ã§ç´…èŒ¶ã‚’ã‚†ã£ãã‚Š", sofaSideBySide:false, smoking:"å®Œå…¨ç¦ç…™", price:"Â¥2,000ã€œÂ¥3,999ï¼ˆã‚¢ãƒ•ã‚¿ãƒŒãƒ¼ãƒ³å¯ï¼‰", hours:"åœŸ 11:00â€“22:00 ç›®å®‰", links:{ map:"https://maps.app.goo.gl/2Eo6rjW6k8o3pZ9P7", site:"http://www.darjeeling.co.jp/nippori.html", review:"https://tabelog.com/tokyo/A1311/A131105/13003019/" }, img:"https://images.unsplash.com/photo-1461988091159-192b6df7054f?q=80&w=1280&auto=format&fit=crop", notes:"ä¾¡æ ¼ã¯å°‘ã—ä¸Šã€‚é›°å›²æ°—é‡è¦–ã®ãƒ†ã‚£ãƒ¼åˆ©ç”¨ã«ã€‚" }
    ];

    // ---- URL state ----
    const params = new URLSearchParams(location.search);
    const initial = {
      area: params.get("area") || "All",
      sideBySideOnly: params.get("sideBySideOnly") === "1",
      smoking: params.get("smoking") || "any",
    };

    const $area = document.getElementById("area");
    const $side = document.getElementById("sideBySideOnly");
    const $smoking = document.getElementById("smoking");
    $area.value = initial.area;
    $side.checked = initial.sideBySideOnly;
    $smoking.value = initial.smoking;

    function updateUrl() {
      const p = new URLSearchParams();
      if ($area.value !== "All") p.set("area", $area.value);
      if ($side.checked) p.set("sideBySideOnly", "1");
      if ($smoking.value !== "any") p.set("smoking", $smoking.value);
      history.replaceState(null, "", `${location.pathname}?${p.toString()}`);
    }

    function matchesFilters(c) {
      const areaOk = ($area.value === "All" || c.area === $area.value);
      const sideOk = (!$side.checked || c.sofaSideBySide);
      const smokeOk = ($smoking.value === "any" || c.smoking.includes($smoking.value));
      return areaOk && sideOk && smokeOk;
    }

    function render() {
      const grid = document.getElementById("grid");
      grid.innerHTML = "";
      CAFES.filter(matchesFilters).forEach(cafe => {
        const article = document.createElement("article");
        article.className = "card bg-white rounded-2xl shadow hover:shadow-lg transition overflow-hidden border border-rose-100";
        article.innerHTML = `
          <div class="aspect-[16/10] w-full overflow-hidden">
            <img src="${cafe.img}" alt="${cafe.name}" class="h-full w-full object-cover" />
          </div>
          <div class="p-4 flex flex-col gap-3">
            <h2 class="text-lg font-bold flex items-center gap-2">
              <span class="inline-block px-2 py-0.5 text-xs rounded-full bg-rose-100 text-rose-600">${cafe.area === "Ueno" ? "ä¸Šé‡" : "æ—¥æš®é‡Œ"}</span>
              ${cafe.name}
            </h2>
            <p class="text-sm text-slate-600">${cafe.vibe}</p>
            <ul class="text-sm grid grid-cols-2 gap-2">
              <li class="bg-rose-50 rounded-lg px-2 py-1">ğŸš¶â€â™‚ï¸ ${cafe.walk}</li>
              <li class="bg-rose-50 rounded-lg px-2 py-1">ğŸ’º ${cafe.highlight}</li>
              <li class="bg-rose-50 rounded-lg px-2 py-1">ğŸš­ ${cafe.smoking}</li>
              <li class="bg-rose-50 rounded-lg px-2 py-1">â° ${cafe.hours}</li>
            </ul>
            <p class="text-sm">ğŸ’¡ ${cafe.notes}</p>
            <div class="flex flex-wrap gap-2 pt-1">
              <a href="${cafe.links.map}" target="_blank" rel="noreferrer" class="px-3 py-2 rounded-xl bg-rose-600 text-white text-sm font-semibold hover:bg-rose-700">Googleãƒãƒƒãƒ—</a>
              ${cafe.links.site ? `<a href="${cafe.links.site}" target="_blank" rel="noreferrer" class="px-3 py-2 rounded-xl bg-white border border-rose-200 text-sm font-semibold hover:bg-rose-100">å…¬å¼</a>` : ""}
              ${cafe.links.review ? `<a href="${cafe.links.review}" target="_blank" rel="noreferrer" class="px-3 py-2 rounded-xl bg-white border border-rose-200 text-sm font-semibold hover:bg-rose-100">ãƒ¬ãƒ“ãƒ¥ãƒ¼</a>` : ""}
            </div>
            <div class="text-xs text-slate-500">${cafe.price}</div>
          </div>`;
        grid.appendChild(article);
      });

      if (grid.children.length === 0) {
        grid.innerHTML = '<p class="text-slate-600">æ¡ä»¶ã«åˆã†ã‚«ãƒ•ã‚§ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’ç·©ã‚ã¦ã¿ã¦ãã ã•ã„ã€‚</p>';
      }
    }

    $area.addEventListener("change", () => { updateUrl(); render(); });
    $side.addEventListener("change", () => { updateUrl(); render(); });
    $smoking.addEventListener("change", () => { updateUrl(); render(); });

    document.getElementById("copyBtn").addEventListener("click", async () => {
      try {
        await navigator.clipboard.writeText(location.href);
        const btn = document.getElementById("copyBtn");
        const original = btn.textContent;
        btn.textContent = "ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸâœ“";
        btn.classList.remove("bg-white");
        btn.classList.add("bg-emerald-500","text-white");
        setTimeout(() => {
          btn.textContent = original;
          btn.classList.add("bg-white");
          btn.classList.remove("bg-emerald-500","text-white");
        }, 1600);
      } catch (e) {
        alert("URLã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸâ€¦");
      }
    });

    // initial render
    render();
  </script>
</body>
</html>
